"use strict";
/*
 * ATTENTION: An "eval-source-map" devtool has been used.
 * This devtool is neither made for production nor for readable output files.
 * It uses "eval()" calls to create a separate source file with attached SourceMaps in the browser devtools.
 * If you are trying to read the output file, select a different devtool (https://webpack.js.org/configuration/devtool/)
 * or disable the default devtool with "devtool: false".
 * If you are looking for production-ready output files, see mode: "production" (https://webpack.js.org/configuration/mode/).
 */
(() => {
var exports = {};
exports.id = "pages/api/dashboard";
exports.ids = ["pages/api/dashboard"];
exports.modules = {

/***/ "mongoose":
/*!***************************!*\
  !*** external "mongoose" ***!
  \***************************/
/***/ ((module) => {

module.exports = require("mongoose");

/***/ }),

/***/ "next/dist/compiled/next-server/pages-api.runtime.dev.js":
/*!**************************************************************************!*\
  !*** external "next/dist/compiled/next-server/pages-api.runtime.dev.js" ***!
  \**************************************************************************/
/***/ ((module) => {

module.exports = require("next/dist/compiled/next-server/pages-api.runtime.dev.js");

/***/ }),

/***/ "(api)/./node_modules/next/dist/build/webpack/loaders/next-route-loader/index.js?kind=PAGES_API&page=%2Fapi%2Fdashboard&preferredRegion=&absolutePagePath=.%2Fpages%5Capi%5Cdashboard.js&middlewareConfigBase64=e30%3D!":
/*!************************************************************************************************************************************************************************************************************************!*\
  !*** ./node_modules/next/dist/build/webpack/loaders/next-route-loader/index.js?kind=PAGES_API&page=%2Fapi%2Fdashboard&preferredRegion=&absolutePagePath=.%2Fpages%5Capi%5Cdashboard.js&middlewareConfigBase64=e30%3D! ***!
  \************************************************************************************************************************************************************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   config: () => (/* binding */ config),\n/* harmony export */   \"default\": () => (__WEBPACK_DEFAULT_EXPORT__),\n/* harmony export */   routeModule: () => (/* binding */ routeModule)\n/* harmony export */ });\n/* harmony import */ var next_dist_server_future_route_modules_pages_api_module_compiled__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! next/dist/server/future/route-modules/pages-api/module.compiled */ \"(api)/./node_modules/next/dist/server/future/route-modules/pages-api/module.compiled.js\");\n/* harmony import */ var next_dist_server_future_route_modules_pages_api_module_compiled__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(next_dist_server_future_route_modules_pages_api_module_compiled__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var next_dist_server_future_route_kind__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! next/dist/server/future/route-kind */ \"(api)/./node_modules/next/dist/server/future/route-kind.js\");\n/* harmony import */ var next_dist_build_templates_helpers__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! next/dist/build/templates/helpers */ \"(api)/./node_modules/next/dist/build/templates/helpers.js\");\n/* harmony import */ var _pages_api_dashboard_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./pages\\api\\dashboard.js */ \"(api)/./pages/api/dashboard.js\");\n\n\n\n// Import the userland code.\n\n// Re-export the handler (should be the default export).\n/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = ((0,next_dist_build_templates_helpers__WEBPACK_IMPORTED_MODULE_2__.hoist)(_pages_api_dashboard_js__WEBPACK_IMPORTED_MODULE_3__, \"default\"));\n// Re-export config.\nconst config = (0,next_dist_build_templates_helpers__WEBPACK_IMPORTED_MODULE_2__.hoist)(_pages_api_dashboard_js__WEBPACK_IMPORTED_MODULE_3__, \"config\");\n// Create and export the route module that will be consumed.\nconst routeModule = new next_dist_server_future_route_modules_pages_api_module_compiled__WEBPACK_IMPORTED_MODULE_0__.PagesAPIRouteModule({\n    definition: {\n        kind: next_dist_server_future_route_kind__WEBPACK_IMPORTED_MODULE_1__.RouteKind.PAGES_API,\n        page: \"/api/dashboard\",\n        pathname: \"/api/dashboard\",\n        // The following aren't used in production.\n        bundlePath: \"\",\n        filename: \"\"\n    },\n    userland: _pages_api_dashboard_js__WEBPACK_IMPORTED_MODULE_3__\n});\n\n//# sourceMappingURL=pages-api.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKGFwaSkvLi9ub2RlX21vZHVsZXMvbmV4dC9kaXN0L2J1aWxkL3dlYnBhY2svbG9hZGVycy9uZXh0LXJvdXRlLWxvYWRlci9pbmRleC5qcz9raW5kPVBBR0VTX0FQSSZwYWdlPSUyRmFwaSUyRmRhc2hib2FyZCZwcmVmZXJyZWRSZWdpb249JmFic29sdXRlUGFnZVBhdGg9LiUyRnBhZ2VzJTVDYXBpJTVDZGFzaGJvYXJkLmpzJm1pZGRsZXdhcmVDb25maWdCYXNlNjQ9ZTMwJTNEISIsIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7OztBQUFzRztBQUN2QztBQUNMO0FBQzFEO0FBQ3VEO0FBQ3ZEO0FBQ0EsaUVBQWUsd0VBQUssQ0FBQyxvREFBUSxZQUFZLEVBQUM7QUFDMUM7QUFDTyxlQUFlLHdFQUFLLENBQUMsb0RBQVE7QUFDcEM7QUFDTyx3QkFBd0IsZ0hBQW1CO0FBQ2xEO0FBQ0EsY0FBYyx5RUFBUztBQUN2QjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMLFlBQVk7QUFDWixDQUFDOztBQUVEIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vcHAvPzMwMGIiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgUGFnZXNBUElSb3V0ZU1vZHVsZSB9IGZyb20gXCJuZXh0L2Rpc3Qvc2VydmVyL2Z1dHVyZS9yb3V0ZS1tb2R1bGVzL3BhZ2VzLWFwaS9tb2R1bGUuY29tcGlsZWRcIjtcbmltcG9ydCB7IFJvdXRlS2luZCB9IGZyb20gXCJuZXh0L2Rpc3Qvc2VydmVyL2Z1dHVyZS9yb3V0ZS1raW5kXCI7XG5pbXBvcnQgeyBob2lzdCB9IGZyb20gXCJuZXh0L2Rpc3QvYnVpbGQvdGVtcGxhdGVzL2hlbHBlcnNcIjtcbi8vIEltcG9ydCB0aGUgdXNlcmxhbmQgY29kZS5cbmltcG9ydCAqIGFzIHVzZXJsYW5kIGZyb20gXCIuL3BhZ2VzXFxcXGFwaVxcXFxkYXNoYm9hcmQuanNcIjtcbi8vIFJlLWV4cG9ydCB0aGUgaGFuZGxlciAoc2hvdWxkIGJlIHRoZSBkZWZhdWx0IGV4cG9ydCkuXG5leHBvcnQgZGVmYXVsdCBob2lzdCh1c2VybGFuZCwgXCJkZWZhdWx0XCIpO1xuLy8gUmUtZXhwb3J0IGNvbmZpZy5cbmV4cG9ydCBjb25zdCBjb25maWcgPSBob2lzdCh1c2VybGFuZCwgXCJjb25maWdcIik7XG4vLyBDcmVhdGUgYW5kIGV4cG9ydCB0aGUgcm91dGUgbW9kdWxlIHRoYXQgd2lsbCBiZSBjb25zdW1lZC5cbmV4cG9ydCBjb25zdCByb3V0ZU1vZHVsZSA9IG5ldyBQYWdlc0FQSVJvdXRlTW9kdWxlKHtcbiAgICBkZWZpbml0aW9uOiB7XG4gICAgICAgIGtpbmQ6IFJvdXRlS2luZC5QQUdFU19BUEksXG4gICAgICAgIHBhZ2U6IFwiL2FwaS9kYXNoYm9hcmRcIixcbiAgICAgICAgcGF0aG5hbWU6IFwiL2FwaS9kYXNoYm9hcmRcIixcbiAgICAgICAgLy8gVGhlIGZvbGxvd2luZyBhcmVuJ3QgdXNlZCBpbiBwcm9kdWN0aW9uLlxuICAgICAgICBidW5kbGVQYXRoOiBcIlwiLFxuICAgICAgICBmaWxlbmFtZTogXCJcIlxuICAgIH0sXG4gICAgdXNlcmxhbmRcbn0pO1xuXG4vLyMgc291cmNlTWFwcGluZ1VSTD1wYWdlcy1hcGkuanMubWFwIl0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(api)/./node_modules/next/dist/build/webpack/loaders/next-route-loader/index.js?kind=PAGES_API&page=%2Fapi%2Fdashboard&preferredRegion=&absolutePagePath=.%2Fpages%5Capi%5Cdashboard.js&middlewareConfigBase64=e30%3D!\n");

/***/ }),

/***/ "(api)/./lib/mongoose.js":
/*!*************************!*\
  !*** ./lib/mongoose.js ***!
  \*************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (/* binding */ mongooseConnect)\n/* harmony export */ });\n/* harmony import */ var mongoose__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! mongoose */ \"mongoose\");\n/* harmony import */ var mongoose__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(mongoose__WEBPACK_IMPORTED_MODULE_0__);\n\nfunction mongooseConnect() {\n    if ((mongoose__WEBPACK_IMPORTED_MODULE_0___default().connection).readyState === 1) {\n        return mongoose__WEBPACK_IMPORTED_MODULE_0___default().connection.asPromise();\n    } else {\n        const uri = process.env.MONGODB_URI;\n        return mongoose__WEBPACK_IMPORTED_MODULE_0___default().connect(uri);\n    }\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKGFwaSkvLi9saWIvbW9uZ29vc2UuanMiLCJtYXBwaW5ncyI6Ijs7Ozs7O0FBQWdDO0FBRWpCLFNBQVNDO0lBQ3BCLElBQUdELDREQUFtQixDQUFDRyxVQUFVLEtBQUssR0FBRTtRQUNwQyxPQUFPSCwwREFBbUIsQ0FBQ0ksU0FBUztJQUN4QyxPQUFLO1FBQ0QsTUFBTUMsTUFBSUMsUUFBUUMsR0FBRyxDQUFDQyxXQUFXO1FBQ2pDLE9BQU9SLHVEQUFnQixDQUFDSztJQUM1QjtBQUNKIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vcHAvLi9saWIvbW9uZ29vc2UuanM/MTYzZCJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgbW9uZ29vc2UgZnJvbSBcIm1vbmdvb3NlXCI7XHJcblxyXG5leHBvcnQgZGVmYXVsdCBmdW5jdGlvbiBtb25nb29zZUNvbm5lY3QoKXtcclxuICAgIGlmKG1vbmdvb3NlLmNvbm5lY3Rpb24ucmVhZHlTdGF0ZSA9PT0gMSl7XHJcbiAgICAgICAgcmV0dXJuIG1vbmdvb3NlLmNvbm5lY3Rpb24uYXNQcm9taXNlKCk7XHJcbiAgICB9ZWxzZXtcclxuICAgICAgICBjb25zdCB1cmk9cHJvY2Vzcy5lbnYuTU9OR09EQl9VUkk7XHJcbiAgICAgICAgcmV0dXJuIG1vbmdvb3NlLmNvbm5lY3QodXJpKTtcclxuICAgIH1cclxufSJdLCJuYW1lcyI6WyJtb25nb29zZSIsIm1vbmdvb3NlQ29ubmVjdCIsImNvbm5lY3Rpb24iLCJyZWFkeVN0YXRlIiwiYXNQcm9taXNlIiwidXJpIiwicHJvY2VzcyIsImVudiIsIk1PTkdPREJfVVJJIiwiY29ubmVjdCJdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(api)/./lib/mongoose.js\n");

/***/ }),

/***/ "(api)/./models/Order.js":
/*!*************************!*\
  !*** ./models/Order.js ***!
  \*************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   Order: () => (/* binding */ Order)\n/* harmony export */ });\n/* harmony import */ var mongoose__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! mongoose */ \"mongoose\");\n/* harmony import */ var mongoose__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(mongoose__WEBPACK_IMPORTED_MODULE_0__);\n\nconst OrderSchema = new mongoose__WEBPACK_IMPORTED_MODULE_0__.Schema({\n    line_items: Object,\n    name: String,\n    email: String,\n    city: String,\n    postalCode: String,\n    streetAddress: String,\n    country: String,\n    paid: Boolean\n}, {\n    timestamps: true\n});\nconst Order = mongoose__WEBPACK_IMPORTED_MODULE_0__.models?.Order || (0,mongoose__WEBPACK_IMPORTED_MODULE_0__.model)(\"Order\", OrderSchema);\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKGFwaSkvLi9tb2RlbHMvT3JkZXIuanMiLCJtYXBwaW5ncyI6Ijs7Ozs7O0FBQStDO0FBRS9DLE1BQU1HLGNBQWMsSUFBSUQsNENBQU1BLENBQUM7SUFDM0JFLFlBQVdDO0lBQ1hDLE1BQUtDO0lBQ0xDLE9BQU1EO0lBQ05FLE1BQUtGO0lBQ0xHLFlBQVdIO0lBQ1hJLGVBQWNKO0lBQ2RLLFNBQVFMO0lBQ1JNLE1BQUtDO0FBQ1QsR0FBRztJQUNDQyxZQUFZO0FBQ2hCO0FBRU8sTUFBTUMsUUFBUWYsNENBQU1BLEVBQUVlLFNBQVNoQiwrQ0FBS0EsQ0FBQyxTQUFTRyxhQUFhIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vcHAvLi9tb2RlbHMvT3JkZXIuanM/ZWIyOSJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQge21vZGVsLCBtb2RlbHMsIFNjaGVtYX0gZnJvbSBcIm1vbmdvb3NlXCI7XHJcblxyXG5jb25zdCBPcmRlclNjaGVtYSA9IG5ldyBTY2hlbWEoe1xyXG4gICAgbGluZV9pdGVtczpPYmplY3QsXHJcbiAgICBuYW1lOlN0cmluZyxcclxuICAgIGVtYWlsOlN0cmluZyxcclxuICAgIGNpdHk6U3RyaW5nLFxyXG4gICAgcG9zdGFsQ29kZTpTdHJpbmcsXHJcbiAgICBzdHJlZXRBZGRyZXNzOlN0cmluZyxcclxuICAgIGNvdW50cnk6U3RyaW5nLFxyXG4gICAgcGFpZDpCb29sZWFuLFxyXG59LCB7XHJcbiAgICB0aW1lc3RhbXBzOiB0cnVlLFxyXG59KTtcclxuXHJcbmV4cG9ydCBjb25zdCBPcmRlciA9IG1vZGVscz8uT3JkZXIgfHwgbW9kZWwoJ09yZGVyJywgT3JkZXJTY2hlbWEpOyJdLCJuYW1lcyI6WyJtb2RlbCIsIm1vZGVscyIsIlNjaGVtYSIsIk9yZGVyU2NoZW1hIiwibGluZV9pdGVtcyIsIk9iamVjdCIsIm5hbWUiLCJTdHJpbmciLCJlbWFpbCIsImNpdHkiLCJwb3N0YWxDb2RlIiwic3RyZWV0QWRkcmVzcyIsImNvdW50cnkiLCJwYWlkIiwiQm9vbGVhbiIsInRpbWVzdGFtcHMiLCJPcmRlciJdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(api)/./models/Order.js\n");

/***/ }),

/***/ "(api)/./models/Product.js":
/*!***************************!*\
  !*** ./models/Product.js ***!
  \***************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   Product: () => (/* binding */ Product)\n/* harmony export */ });\n/* harmony import */ var mongoose__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! mongoose */ \"mongoose\");\n/* harmony import */ var mongoose__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(mongoose__WEBPACK_IMPORTED_MODULE_0__);\n\nconst ProductSchema = new mongoose__WEBPACK_IMPORTED_MODULE_0__.Schema({\n    title: {\n        type: String,\n        required: true\n    },\n    description: String,\n    price: {\n        type: Number,\n        required: true\n    },\n    images: [\n        {\n            type: String\n        }\n    ],\n    category: {\n        type: (mongoose__WEBPACK_IMPORTED_MODULE_0___default().Types).ObjectId,\n        ref: \"Category\",\n        default: null\n    },\n    properties: {\n        type: Object\n    }\n}, {\n    timestamps: true\n});\nconst Product = mongoose__WEBPACK_IMPORTED_MODULE_0__.models.Product || (0,mongoose__WEBPACK_IMPORTED_MODULE_0__.model)(\"Product\", ProductSchema);\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKGFwaSkvLi9tb2RlbHMvUHJvZHVjdC5qcyIsIm1hcHBpbmdzIjoiOzs7Ozs7QUFBeUQ7QUFFekQsTUFBTUksZ0JBQWdCLElBQUlGLDRDQUFNQSxDQUFDO0lBQzdCRyxPQUFPO1FBQUNDLE1BQU1DO1FBQVFDLFVBQVU7SUFBSTtJQUNwQ0MsYUFBYUY7SUFDYkcsT0FBTztRQUFDSixNQUFNSztRQUFRSCxVQUFVO0lBQUk7SUFDcENJLFFBQVE7UUFBQztZQUFDTixNQUFNQztRQUFNO0tBQUU7SUFDeEJNLFVBQVU7UUFBQ1AsTUFBTU4sdURBQWMsQ0FBQ2UsUUFBUTtRQUFFQyxLQUFLO1FBQVlDLFNBQVM7SUFBSTtJQUN4RUMsWUFBWTtRQUFDWixNQUFNYTtJQUFNO0FBQzdCLEdBQUc7SUFDQ0MsWUFBWTtBQUNoQjtBQUVPLE1BQU1DLFVBQVVsQiw0Q0FBTUEsQ0FBQ2tCLE9BQU8sSUFBSXBCLCtDQUFLQSxDQUFDLFdBQVdHLGVBQWUiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9wcC8uL21vZGVscy9Qcm9kdWN0LmpzPzA5YzYiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IG1vbmdvb3NlLCB7bW9kZWwsIFNjaGVtYSwgbW9kZWxzfSBmcm9tIFwibW9uZ29vc2VcIjtcclxuXHJcbmNvbnN0IFByb2R1Y3RTY2hlbWEgPSBuZXcgU2NoZW1hKHtcclxuICAgIHRpdGxlOiB7dHlwZTogU3RyaW5nLCByZXF1aXJlZDogdHJ1ZX0sXHJcbiAgICBkZXNjcmlwdGlvbjogU3RyaW5nLFxyXG4gICAgcHJpY2U6IHt0eXBlOiBOdW1iZXIsIHJlcXVpcmVkOiB0cnVlfSxcclxuICAgIGltYWdlczogW3t0eXBlOiBTdHJpbmd9XSxcclxuICAgIGNhdGVnb3J5OiB7dHlwZTogbW9uZ29vc2UuVHlwZXMuT2JqZWN0SWQsIHJlZjogJ0NhdGVnb3J5JywgZGVmYXVsdDogbnVsbH0sIC8vIEFsbG93IG51bGxcclxuICAgIHByb3BlcnRpZXM6IHt0eXBlOiBPYmplY3R9LFxyXG59LCB7XHJcbiAgICB0aW1lc3RhbXBzOiB0cnVlLFxyXG59KTtcclxuXHJcbmV4cG9ydCBjb25zdCBQcm9kdWN0ID0gbW9kZWxzLlByb2R1Y3QgfHwgbW9kZWwoJ1Byb2R1Y3QnLCBQcm9kdWN0U2NoZW1hKTsiXSwibmFtZXMiOlsibW9uZ29vc2UiLCJtb2RlbCIsIlNjaGVtYSIsIm1vZGVscyIsIlByb2R1Y3RTY2hlbWEiLCJ0aXRsZSIsInR5cGUiLCJTdHJpbmciLCJyZXF1aXJlZCIsImRlc2NyaXB0aW9uIiwicHJpY2UiLCJOdW1iZXIiLCJpbWFnZXMiLCJjYXRlZ29yeSIsIlR5cGVzIiwiT2JqZWN0SWQiLCJyZWYiLCJkZWZhdWx0IiwicHJvcGVydGllcyIsIk9iamVjdCIsInRpbWVzdGFtcHMiLCJQcm9kdWN0Il0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(api)/./models/Product.js\n");

/***/ }),

/***/ "(api)/./pages/api/dashboard.js":
/*!********************************!*\
  !*** ./pages/api/dashboard.js ***!
  \********************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (/* binding */ handler)\n/* harmony export */ });\n/* harmony import */ var _lib_mongoose__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @/lib/mongoose */ \"(api)/./lib/mongoose.js\");\n/* harmony import */ var _models_Order__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @/models/Order */ \"(api)/./models/Order.js\");\n/* harmony import */ var _models_Product__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @/models/Product */ \"(api)/./models/Product.js\");\n\n\n\nasync function handler(req, res) {\n    await (0,_lib_mongoose__WEBPACK_IMPORTED_MODULE_0__[\"default\"])();\n    try {\n        // Fetch total number of products\n        const totalProducts = await _models_Product__WEBPACK_IMPORTED_MODULE_2__.Product.countDocuments();\n        // Fetch total number of orders\n        const totalOrders = await _models_Order__WEBPACK_IMPORTED_MODULE_1__.Order.countDocuments();\n        // Calculate total revenue\n        const orders = await _models_Order__WEBPACK_IMPORTED_MODULE_1__.Order.find().select(\"line_items\");\n        const totalRevenue = orders.reduce((total, order)=>{\n            return total + order.line_items.reduce((orderTotal, item)=>{\n                return orderTotal + (item.price_data?.unit_amount || 0) * item.quantity;\n            }, 0);\n        }, 0);\n        // Fetch recent orders\n        const recentOrders = await _models_Order__WEBPACK_IMPORTED_MODULE_1__.Order.find().sort({\n            createdAt: -1\n        }).limit(5);\n        // Fetch recent products\n        const recentProducts = await _models_Product__WEBPACK_IMPORTED_MODULE_2__.Product.find().sort({\n            createdAt: -1\n        }).limit(5);\n        res.json({\n            totalProducts,\n            totalOrders,\n            totalRevenue,\n            recentOrders,\n            recentProducts\n        });\n    } catch (error) {\n        console.error(\"Error fetching dashboard data:\", error);\n        res.status(500).json({\n            message: \"Internal server error\"\n        });\n    }\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKGFwaSkvLi9wYWdlcy9hcGkvZGFzaGJvYXJkLmpzIiwibWFwcGluZ3MiOiI7Ozs7Ozs7QUFBNkM7QUFDTjtBQUNJO0FBRTVCLGVBQWVHLFFBQVFDLEdBQUcsRUFBRUMsR0FBRztJQUMxQyxNQUFNTCx5REFBZUE7SUFFckIsSUFBSTtRQUNBLGlDQUFpQztRQUNqQyxNQUFNTSxnQkFBZ0IsTUFBTUosb0RBQU9BLENBQUNLLGNBQWM7UUFFbEQsK0JBQStCO1FBQy9CLE1BQU1DLGNBQWMsTUFBTVAsZ0RBQUtBLENBQUNNLGNBQWM7UUFFOUMsMEJBQTBCO1FBQzFCLE1BQU1FLFNBQVMsTUFBTVIsZ0RBQUtBLENBQUNTLElBQUksR0FBR0MsTUFBTSxDQUFDO1FBQ3pDLE1BQU1DLGVBQWVILE9BQU9JLE1BQU0sQ0FBQyxDQUFDQyxPQUFPQztZQUN2QyxPQUFPRCxRQUFRQyxNQUFNQyxVQUFVLENBQUNILE1BQU0sQ0FBQyxDQUFDSSxZQUFZQztnQkFDaEQsT0FBT0QsYUFBYSxDQUFDQyxLQUFLQyxVQUFVLEVBQUVDLGVBQWUsS0FBS0YsS0FBS0csUUFBUTtZQUMzRSxHQUFHO1FBQ1AsR0FBRztRQUVILHNCQUFzQjtRQUN0QixNQUFNQyxlQUFlLE1BQU1yQixnREFBS0EsQ0FBQ1MsSUFBSSxHQUFHYSxJQUFJLENBQUM7WUFBRUMsV0FBVyxDQUFDO1FBQUUsR0FBR0MsS0FBSyxDQUFDO1FBRXRFLHdCQUF3QjtRQUN4QixNQUFNQyxpQkFBaUIsTUFBTXhCLG9EQUFPQSxDQUFDUSxJQUFJLEdBQUdhLElBQUksQ0FBQztZQUFFQyxXQUFXLENBQUM7UUFBRSxHQUFHQyxLQUFLLENBQUM7UUFFMUVwQixJQUFJc0IsSUFBSSxDQUFDO1lBQ0xyQjtZQUNBRTtZQUNBSTtZQUNBVTtZQUNBSTtRQUNKO0lBQ0osRUFBRSxPQUFPRSxPQUFPO1FBQ1pDLFFBQVFELEtBQUssQ0FBQyxrQ0FBa0NBO1FBQ2hEdkIsSUFBSXlCLE1BQU0sQ0FBQyxLQUFLSCxJQUFJLENBQUM7WUFBRUksU0FBUztRQUF3QjtJQUM1RDtBQUNKIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vcHAvLi9wYWdlcy9hcGkvZGFzaGJvYXJkLmpzPzgxMWQiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IG1vbmdvb3NlQ29ubmVjdCBmcm9tIFwiQC9saWIvbW9uZ29vc2VcIjtcclxuaW1wb3J0IHsgT3JkZXIgfSBmcm9tIFwiQC9tb2RlbHMvT3JkZXJcIjtcclxuaW1wb3J0IHsgUHJvZHVjdCB9IGZyb20gXCJAL21vZGVscy9Qcm9kdWN0XCI7XHJcblxyXG5leHBvcnQgZGVmYXVsdCBhc3luYyBmdW5jdGlvbiBoYW5kbGVyKHJlcSwgcmVzKSB7XHJcbiAgICBhd2FpdCBtb25nb29zZUNvbm5lY3QoKTtcclxuXHJcbiAgICB0cnkge1xyXG4gICAgICAgIC8vIEZldGNoIHRvdGFsIG51bWJlciBvZiBwcm9kdWN0c1xyXG4gICAgICAgIGNvbnN0IHRvdGFsUHJvZHVjdHMgPSBhd2FpdCBQcm9kdWN0LmNvdW50RG9jdW1lbnRzKCk7XHJcblxyXG4gICAgICAgIC8vIEZldGNoIHRvdGFsIG51bWJlciBvZiBvcmRlcnNcclxuICAgICAgICBjb25zdCB0b3RhbE9yZGVycyA9IGF3YWl0IE9yZGVyLmNvdW50RG9jdW1lbnRzKCk7XHJcblxyXG4gICAgICAgIC8vIENhbGN1bGF0ZSB0b3RhbCByZXZlbnVlXHJcbiAgICAgICAgY29uc3Qgb3JkZXJzID0gYXdhaXQgT3JkZXIuZmluZCgpLnNlbGVjdCgnbGluZV9pdGVtcycpO1xyXG4gICAgICAgIGNvbnN0IHRvdGFsUmV2ZW51ZSA9IG9yZGVycy5yZWR1Y2UoKHRvdGFsLCBvcmRlcikgPT4ge1xyXG4gICAgICAgICAgICByZXR1cm4gdG90YWwgKyBvcmRlci5saW5lX2l0ZW1zLnJlZHVjZSgob3JkZXJUb3RhbCwgaXRlbSkgPT4ge1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuIG9yZGVyVG90YWwgKyAoaXRlbS5wcmljZV9kYXRhPy51bml0X2Ftb3VudCB8fCAwKSAqIGl0ZW0ucXVhbnRpdHk7XHJcbiAgICAgICAgICAgIH0sIDApO1xyXG4gICAgICAgIH0sIDApO1xyXG5cclxuICAgICAgICAvLyBGZXRjaCByZWNlbnQgb3JkZXJzXHJcbiAgICAgICAgY29uc3QgcmVjZW50T3JkZXJzID0gYXdhaXQgT3JkZXIuZmluZCgpLnNvcnQoeyBjcmVhdGVkQXQ6IC0xIH0pLmxpbWl0KDUpO1xyXG5cclxuICAgICAgICAvLyBGZXRjaCByZWNlbnQgcHJvZHVjdHNcclxuICAgICAgICBjb25zdCByZWNlbnRQcm9kdWN0cyA9IGF3YWl0IFByb2R1Y3QuZmluZCgpLnNvcnQoeyBjcmVhdGVkQXQ6IC0xIH0pLmxpbWl0KDUpO1xyXG5cclxuICAgICAgICByZXMuanNvbih7XHJcbiAgICAgICAgICAgIHRvdGFsUHJvZHVjdHMsXHJcbiAgICAgICAgICAgIHRvdGFsT3JkZXJzLFxyXG4gICAgICAgICAgICB0b3RhbFJldmVudWUsXHJcbiAgICAgICAgICAgIHJlY2VudE9yZGVycyxcclxuICAgICAgICAgICAgcmVjZW50UHJvZHVjdHMsXHJcbiAgICAgICAgfSk7XHJcbiAgICB9IGNhdGNoIChlcnJvcikge1xyXG4gICAgICAgIGNvbnNvbGUuZXJyb3IoJ0Vycm9yIGZldGNoaW5nIGRhc2hib2FyZCBkYXRhOicsIGVycm9yKTtcclxuICAgICAgICByZXMuc3RhdHVzKDUwMCkuanNvbih7IG1lc3NhZ2U6ICdJbnRlcm5hbCBzZXJ2ZXIgZXJyb3InIH0pO1xyXG4gICAgfVxyXG59XHJcbiJdLCJuYW1lcyI6WyJtb25nb29zZUNvbm5lY3QiLCJPcmRlciIsIlByb2R1Y3QiLCJoYW5kbGVyIiwicmVxIiwicmVzIiwidG90YWxQcm9kdWN0cyIsImNvdW50RG9jdW1lbnRzIiwidG90YWxPcmRlcnMiLCJvcmRlcnMiLCJmaW5kIiwic2VsZWN0IiwidG90YWxSZXZlbnVlIiwicmVkdWNlIiwidG90YWwiLCJvcmRlciIsImxpbmVfaXRlbXMiLCJvcmRlclRvdGFsIiwiaXRlbSIsInByaWNlX2RhdGEiLCJ1bml0X2Ftb3VudCIsInF1YW50aXR5IiwicmVjZW50T3JkZXJzIiwic29ydCIsImNyZWF0ZWRBdCIsImxpbWl0IiwicmVjZW50UHJvZHVjdHMiLCJqc29uIiwiZXJyb3IiLCJjb25zb2xlIiwic3RhdHVzIiwibWVzc2FnZSJdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(api)/./pages/api/dashboard.js\n");

/***/ })

};
;

// load runtime
var __webpack_require__ = require("../../webpack-api-runtime.js");
__webpack_require__.C(exports);
var __webpack_exec__ = (moduleId) => (__webpack_require__(__webpack_require__.s = moduleId))
var __webpack_exports__ = __webpack_require__.X(0, ["vendor-chunks/next"], () => (__webpack_exec__("(api)/./node_modules/next/dist/build/webpack/loaders/next-route-loader/index.js?kind=PAGES_API&page=%2Fapi%2Fdashboard&preferredRegion=&absolutePagePath=.%2Fpages%5Capi%5Cdashboard.js&middlewareConfigBase64=e30%3D!")));
module.exports = __webpack_exports__;

})();